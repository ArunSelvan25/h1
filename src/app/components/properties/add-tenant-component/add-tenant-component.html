<div class="max-w-md mx-auto bg-white space-y-6">
  <div class="flex justify-between">
    <!-- Heading -->
    <h2 class="text-xl font-semibold text-gray-800">
      {{ !isSubmitDisabled ? 'Add Tenant' : 'Tenant' }}
    </h2>

    @if (isSubmitDisabled) {
      <button (click)="removeTenant(this.propertyService.viewedPropertyId())" class="ml-4 px-5 py-2 bg-primary hover:opacity-90 text-white text-sm rounded-lg transition font-semibold shadow-md">
        Remove Tenant
      </button>
    }
  </div>


  <!-- Form -->
  <form
    [formGroup]="propertyService.tenantForm"
    (ngSubmit)="submitForm()"
    class="space-y-5"
  >
    <!-- Name -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
      <input
        type="text"
        formControlName="name"
        class="w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-primary focus:ring-2 focus:ring-primary/20 transition"
        placeholder="Enter tenant name"
      />
      @if (propertyService.tenantForm.get('name')?.touched && propertyService.tenantForm.get('name')?.invalid) {
        <p class="text-sm text-red-500 mt-1">Name must be at least 3 characters.</p>
      }
    </div>

    <!-- Hidden Property ID -->
    <input type="hidden" formControlName="propertyId" />

    <!-- Phone -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
      <input
        type="tel"
        formControlName="phone"
        class="w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-primary focus:ring-2 focus:ring-primary/20 transition"
        placeholder="Enter 10-digit phone number"
      />
      @if (propertyService.tenantForm.get('phone')?.touched && propertyService.tenantForm.get('phone')?.invalid) {
        <p class="text-sm text-red-500 mt-1">Enter a valid 10-digit phone number.</p>
      }
    </div>

    <!-- Advance -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Advance Paid (â‚¹)</label>
      <input
        type="number"
        formControlName="advance"
        class="w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-primary focus:ring-2 focus:ring-primary/20 transition"
        placeholder="Enter advance amount"
        min="0"
      />
      @if (propertyService.tenantForm.get('advance')?.touched && propertyService.tenantForm.get('advance')?.invalid) {
        <p class="text-sm text-red-500 mt-1">Advance must be 0 or more.</p>
      }
    </div>

    <!-- Paid Date -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Advance Paid Date</label>
      <input
        type="date"
        formControlName="paidDate"
        class="w-full rounded-lg border border-gray-300 px-4 py-2 text-sm focus:border-primary focus:ring-2 focus:ring-primary/20 transition"
      />
      @if (propertyService.tenantForm.get('paidDate')?.touched && propertyService.tenantForm.get('paidDate')?.invalid) {
        <p class="text-sm text-red-500 mt-1">Paid date is required.</p>
      }
    </div>

    <!-- Submit -->
    @if (!isSubmitDisabled) {
      <button
        type="submit"
        class="w-full bg-primary hover:bg-primary-dark text-white font-semibold py-2.5 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed"
        [disabled]="isSubmitDisabled || propertyService.tenantForm.invalid"
      >
        Add Tenant
      </button>
    }
  </form>
</div>
