<div class="columns-1 sm:columns-2 lg:columns-3 gap-6 px-4 py-8 max-w-7xl mx-auto">
  @for (property of propertyService.propertyData(); track $index) {
    <div
      class="break-inside-avoid mb-6 rounded-xl overflow-hidden shadow-md border border-gray-200 bg-white hover:shadow-xl hover:-translate-y-1 transition-all duration-200"
    >
      <!-- Property Image -->
      <div class="relative w-full h-48 overflow-hidden group">
        <img
          [src]="property?.images?.[0] || 'https://source.unsplash.com/random/400x300?house'"
          [alt]="property?.name || 'Property Image'"
          class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
        />
        @if ((property?.images?.length ?? 0) > 1) {
          <div class="absolute top-2 right-2 bg-black/60 text-white text-xs px-2 py-0.5 rounded shadow">
            {{ property.images.length }} Photos
          </div>
        }
      </div>

      <!-- Property Details -->
      <div class="p-4 flex flex-col gap-3">
        <!-- Title and Location -->
        <div (click)="showProperty(property.id)" class="cursor-pointer">
          <h3 class="text-base font-semibold text-gray-800 truncate">
            {{ property?.name || 'Unnamed Property' }}
          </h3>
          @if (property?.location) {
            <p class="text-sm text-gray-500 truncate">{{ property.location }}</p>
          }
        </div>

        <!-- Tags -->
        <div class="flex flex-wrap gap-1 text-xs font-medium">
          @if (property?.status) {
            <span class="bg-green-100 text-green-700 px-2 py-0.5 rounded-full">{{ property.status }}</span>
          }
          @if (property?.type) {
            <span class="bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full">{{ property.type }}</span>
          }
          @if (property?.furnishing) {
            <span
              [ngClass]="{
                'bg-yellow-100 text-yellow-800': property.furnishing === 'Semi-furnished',
                'bg-purple-100 text-purple-700': property.furnishing === 'Furnished',
                'bg-gray-100 text-gray-700': property.furnishing === 'Unfurnished'
              }"
              class="px-2 py-0.5 rounded-full"
            >
              {{ property.furnishing }}
            </span>
          }
        </div>

        <!-- Quick Stats -->
        <ul class="text-sm space-y-1 text-gray-600">
          @if (property?.phone) {
            <li>üìû <span>{{ property.phone }}</span></li>
          }
          @if (property?.rent || property?.advance) {
            <li>
              üí∞ 
              @if (property?.rent) {
                <strong class="text-primary">‚Çπ{{ property.rent }}</strong>/mo 
              }
              @if (property?.advance) {
                <span class="text-gray-500">| ‚Çπ{{ property.advance }} advance</span>
              }
            </li>
          }
          @if (property?.bedrooms || property?.bathrooms) {
            <li>
              üõè {{ property?.bedrooms || 0 }} Beds ‚Ä¢ üõÅ {{ property?.bathrooms || 0 }} Baths
            </li>
          }
          @if (property?.area_sqft) {
            <li>üìê {{ property.area_sqft }} sqft</li>
          }
        </ul>

        <!-- Amenities -->
        @if (property?.amenities?.length) {
          <div class="flex flex-wrap gap-1 pt-2">
            @for (amenity of property.amenities; track $index) {
              <span class="bg-gray-100 text-gray-700 text-xs px-2 py-0.5 rounded-full">
                {{ amenity }}
              </span>
            }
          </div>
        }
      </div>
    </div>
  }
</div>
