<div class="columns-1 sm:columns-2 lg:columns-3 gap-6 px-4 py-10 max-w-7xl mx-auto">
  @if (propertyService.propertyData().length) {
    @for (property of propertyService.propertyData(); track $index) {
      <div
        class="break-inside-avoid mb-6 rounded-2xl overflow-hidden shadow-lg border border-gray-200 bg-white hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 group"
      >
        <!-- Property Image -->
        <!-- <div class="relative w-full h-52 overflow-hidden">
          <img
            [src]="property?.images?.[0] || 'https://source.unsplash.com/random/400x300?house'"
            [alt]="property?.name || 'Property Image'"
            class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
          />
          @if ((property?.images?.length ?? 0) > 1) {
            <div class="absolute top-3 right-3 bg-black/70 text-white text-xs px-2 py-0.5 rounded-lg shadow">
              {{ property.images.length }} Photos
            </div>
          }
        </div> -->

        <!-- Property Details -->
        <div (click)="showProperty(property.id)" class="cursor-pointer p-5 flex flex-col gap-4">
          <!-- Title and Location -->
          <div class="space-y-1">
            <h3 class="text-lg font-semibold text-gray-900 truncate">
              {{ property?.name || 'Unnamed Property' }}
            </h3>
            @if (property?.location) {
              <p class="text-sm text-gray-500 truncate">{{ property.location }}</p>
            }
          </div>

          <!-- Tags -->
          <div class="flex flex-wrap gap-2 text-xs font-medium">
            @if (property?.status) {
              <span class="bg-green-100 text-green-700 px-2 py-1 rounded-full">{{ property.status }}</span>
            }
            @if (property?.type) {
              <span class="bg-blue-100 text-blue-700 px-2 py-1 rounded-full">{{ property.type }}</span>
            }
            @if (property?.furnishing) {
              <span
                [ngClass]="{
                  'bg-yellow-100 text-yellow-800': property.furnishing === 'Semi-furnished',
                  'bg-purple-100 text-purple-700': property.furnishing === 'Furnished',
                  'bg-gray-100 text-gray-700': property.furnishing === 'Unfurnished'
                }"
                class="px-2 py-1 rounded-full"
              >
                {{ property.furnishing }}
              </span>
            }
          </div>

          <!-- Quick Stats -->
          <ul class="text-sm space-y-1 text-gray-600">
            @if (property?.phone) {
              <li class="flex items-center gap-2">
                üìû <span>{{ property.phone }}</span>
              </li>
            }
            @if (property?.rent || property?.advance) {
              <li class="flex items-center gap-2">
                üí∞ 
                <span>
                  @if (property?.rent) {
                    <strong class="text-primary">‚Çπ{{ property.rent }}</strong>/mo
                  }
                  @if (property?.advance) {
                    <span class="text-gray-500">| ‚Çπ{{ property.advance }} advance</span>
                  }
                </span>
              </li>
            }
            @if (property?.bedrooms || property?.bathrooms) {
              <li class="flex items-center gap-2">
                üõè {{ property?.bedrooms || 0 }} Beds ‚Ä¢ üõÅ {{ property?.bathrooms || 0 }} Baths
              </li>
            }
            @if (property?.area_sqft) {
              <li class="flex items-center gap-2">
                üìê {{ property.area_sqft }} sqft
              </li>
            }
          </ul>

          <!-- Amenities -->
          @if (property?.amenities?.length) {
            <div class="flex flex-wrap gap-2 pt-3">
              @for (amenity of property.amenities; track $index) {
                <span class="bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded-lg">
                  {{ amenity }}
                </span>
              }
            </div>
          }
        </div>
      </div>
    }
  }
</div>
